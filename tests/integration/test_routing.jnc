// Single-File Routing Test App
// Tests jounce-router package integration

use jounce::router::{Router, navigate, get_current_path};

// Home Page Component
component HomePage() {
    <div>
        <h1>Home Page</h1>
        <p>Welcome to the Jounce Routing Demo!</p>
        <button onClick={() => navigate("/about")}>Go to About</button>
        <button onClick={() => navigate("/contact")}>Go to Contact</button>
    </div>
}

// About Page Component
component AboutPage() {
    <div>
        <h1>About Page</h1>
        <p>This is the about page.</p>
        <button onClick={() => navigate("/")}>Go to Home</button>
        <button onClick={() => navigate("/contact")}>Go to Contact</button>
    </div>
}

// Contact Page Component
component ContactPage() {
    <div>
        <h1>Contact Page</h1>
        <p>Get in touch with us!</p>
        <button onClick={() => navigate("/")}>Go to Home</button>
        <button onClick={() => navigate("/about")}>Go to About</button>
    </div>
}

// Main app entry point
fn main() {
    let router = Router::new();

    // Register routes
    // Note: This is a simplified test - real implementation would need
    // component-to-string conversion

    let app = <div>
        <h1>Routing Test App</h1>
        <p>Current path: {get_current_path()}</p>

        <nav>
            <button onClick={() => navigate("/")}>Home</button>
            <button onClick={() => navigate("/about")}>About</button>
            <button onClick={() => navigate("/contact")}>Contact</button>
        </nav>

        <div id="router-outlet">
            <HomePage />
        </div>
    </div>;
}
